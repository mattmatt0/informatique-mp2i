\newcommand\PATH{/home/matthieu/Documents/Ecole/Informatique/cours/14-graphes}

\RequirePackage{fix-cm}
\documentclass{scrartcl}

\input{\PATH/../include/preamble.tex}
\input{\PATH/../include/it-tools.tex}
\input{\PATH/../include/math-tools.tex}
\usepackage{lmodern}
\usepackage{bbm}

\title{Graphes}
\author{}
\date{}

\begin{document}
	\maketitle
	\section{Définitions}
		\subsection{Graphes}
			\definition Un graphe \textbf{non orienté} est la donnée 
			d'un couple $G = (V,E)$,
			où $V$ est un ensemble fini non vide 
			et $E \subset \set{\set{x,y} \tq (x,y) \in V^2}$.
			Un graphe \textbf{orienté} est la donnée d'un couple $H = (S,A)$,
			où $S$ est un ensemble fini non vide et 
			$A \in \mathcal{P}(S^2)$.

			Les éléments de $V$ et $A$ sont appelés \textbf{sommets du graphe}, 
			ceux de $E$ sont ses \textbf{arrêtes}, et ceux de $A$ ses \textbf{arcs}.

			Si $e = \set{x} \in E$ (avec $x \in V$), $e$ est une \textbf{boucle} sur $x$
			(idem pour $e = (x,x)$ pour $x \in S$). 
			Pour $(x,y) \in V^2$, on dit que $x$ et $y$ sont \textbf{voisins} ssi $\set{x,y} \in E$.
			Dans un graphe orienté, $x \in S$ est \textbf{successeur (resp. prédecesseur)de $y \in V$} ssi $(y,x)$ (resp. $(x,y)$) $\in A$.

			On appelle \textbf{voisinnage} de $x \in E$ l'ensemble $\mathscr{V}(x)$ de ses voisins.
			Le \textbf{degré} de $x$, noté $\deg x$, est le cardinal de ce voisinnage.

			Pour les graphes orientés, on distingue le \textbf{degré sortant} de $x$, noté $\deg^+ x$, le nombre de successeurs de $x$,
			du \textbf{degré entrant} de $x$, noté $\deg^- x$,le nombre de prédecesseurs de $x$.

			\notecentrale{On supposera par la suite que l'on travaille avec des graphes sans boucles}

			\prop{Soit $G = (V,E)$ un graphe. On a $\sum_{x \in V} \deg(x) = 2\card(E)$ }
			\begin{demo}
				\item On a:
				\[
					\sum_{x \in V} \deg(x)= \sum_{x\in V} \sum_{y\in V} \mathbbm{1}_\set{x,y} = \sum_{(x,y) \in V^2} \mathbbm{1}_\set{x,y}
					= 2\sum_{\set{x,y} \in V^2} \mathbbm{1}_\set{x,y} = 2\,\card(E).
				\]
				Car le graphe est sans boucle. Il faudrait sinon ajouter le nombre de boucles présentes dans le graphe.
			\end{demo}

		\subsection{Accessibilité, connexité}
			\notecentrale{On fixe $G = (V,E)$ un graphe non orienté, 
			et $H = (A,S)$ un graphe orienté.}
			
			\definition Soit $s = (s_i)\in V^{n+1}$. 
			On dit que $s$ est une \textbf{chaîne de $G$} ssi
			$\forall i \in \intsete{1,n}, \set{s_i, s_{i+1}} \in E$
			On dit alors que $s$ est une chaîne de longueur $n$ et qui relie $s_0$ \textbf{et} $s_n$.

			\definition Soit $s = (s_i)\in A^{n+1}$. 
			On dit que $s$ est un \textbf{chemin de $G$} ssi
			$\forall i \in \intsete{1,n}, \set{s_i, s_{i+1}} \in E$	
			On dit alors que $s$ est une chaîne de longueur $n$ et qui relie $s_0$ \textbf{à} $s_n$.

			On dit alors que $s_n$ est accessible depuis $s_0$.
			Par ailleurs, si $s_n = s_0$, on dit que $s$ est un \textbf{cycle} pour un graphe non-orienté, 
			ou un \textbf{circuit} dans un graphe orienté.

			Si tous les $(s_i)$ sont distincts, on dit que $s$ est \textbf{élémentaire}. 

			\rem Il y a toujours un nombre fini de chaînes élémentaires, mais si $G$ (resp. $H$) a des cycles (resp. des circuits),
			il y a un nombre infini de chaînes (il suffit de tourner en rond...).

			\exo Définir la relation entre les circuits/chemins d'un graphe, 
			qui met en relation deux circuits/chemins ssi ils relient les mêmes sommets.
			Est-ce une relation d'équivalence?

			\prop{La relation $\mathcal{R}$ définie sur $V^2$ par $x\mathcal{R}y$ ssi $x$ est accessible depuis $y$ est une relation d'équivalence.}
			\begin{demo}
				\item Soit $x \in V$. On a bien $x\mathcal{R}x$: la chaîne de longueur $n=0$ $s = (x)$ convient.
				\item Soit $(x,y) \in V^2$, tel que $x \mathcal{R}y$. 
					Alors par définition il existe $s = (s_0,...,s_n) \in V^{n+1}$ tel que $s_0 = x$ et $s_n = y$,
					et $\forall i \in \intsete{0,n}$, $\set{s_i,s_{i+1}} \in E$.
					Considérons $s' = (s_n,s_{n-1},...,s_1,s_0)$. $s'$ est une chaîne reliant $y$ et $x$.
					En effet, $s'_0 = s_n = y$ et $s'_n = s_0 = x$, et $\forall i \in \intsete{0,n}, 
					\set{s'_{i},s'_{i+1}} = \set{s_{n-i},\set{n-i-1} = \set{s_k,s_{k+1}}} \in E$ en posant $k = n-i-1 \in \intsete{0,n}$.
				\item Soit $(x,y,z) \in V^3$ tel que $x\mathcal{R}y$ et $y\mathcal{R}z$.
					Comme $x\mathcal{R}y$, il existe $s = (s_0,...,s_n) \in V^{n+1}$ une chaîne avec $s_0 = x$ et $s_n = y$.
					Comme $y\mathcal{R}x$, il existe $t = (t_0,...,t_m) \in V^{m+1}$ une chaîne avec $t_0 = y$ et $t_m = z$.
					Considérons $u = (s_0,...s_n,t_1,...t_m)$.
					$u$ est bien une chaîne car $\forall i \in \intsete{0,n+m}$, soit $i \in \intsete{0,n}$ et dans ce cas on a 
					$\set{u_i, u_{i+1}} = \set{s_i,s_{i+1}} \in A$, soit $i = n$ et on a $\set{u_i,u_{i+1}} = \set{t_0,t_1} \in E$,
					soit $i \in \inteset{n,n+m}$ et $\set{u_i,u_{i+1}} = \set{t_{i-n},t_{i-n+1}} \in E$.
					On a par ailleurs $u_0 = x$ et $u_{m+n} = z$, donc $x\mathcal{R}z$.
			\end{demo}

			\exo Définir une relation d'équivalence similaire pour $H$, où l'on doit avoir un chemin dans chaque sens entre deux points en relation.

			\definition \textbf{Une composante connexe} de $G$ est une classe d'équivalence pour la relation d'équivalence définie ci-dessus.
			Si $G$ n'admet qu'une composante connexe, on dit que $G$ est un graphe connexe. 
			Dans le cas de la relation d'équivalence sur les graphes orientés, on appelle les classes d'équivalences \textbf{composante fortement connexe}.

			\definition Soit $W \subset V$ avec $W \neq \varnothing$. 
			$W$ est \textbf{connexe} ssi $\forall(x,y) \in W^2$, il existe une chaîne reliant $x$ et $y$.

			\prop{$W$ est une composante connexe ssi $W$ est connexe minimal, 
			c'est à dire si $\forall W' \subset V\setminus\set{W}, W \subset W'$, $W'$ n'est pas connexe.}

			\definition Soit $G' = (V',E')$ un graphe.
			$G'$ est un \textbf{sous-graphe} ssi $V' \subset V$, $E' \subset E$.

			\definition Soit $V' \subset V$
			Le \textbf{graphe induit par $G$ sur $V'$} est $G' = (V', \set{\set{x,y}\in E \tq (x,y) \in V^2})$.

			\prop{Un ensemble de sommets est connexe ssi le graphe qu'il induit est connexe.}
			\begin{demo}
				\item En exercice.
			\end{demo}
	
		\subsection{Types de graphes}
			\definition Un graphe non-orienté (resp. orienté) est dit \textbf{acyclique} s'il ne contient aucun cycle élémentaire (resp. aucun circuit).

			\definition Un \textbf{arbre} est un graphe connexe acyclique. (cf TD pour caractérisation).

			\definition Un graphe acyclique décomposé en ses composantes connexes (qui sont donc des arbres), est appelé \textbf{forêt}.

			\definition Un graphe non-orienté $(V,E)$ est dit bipartie ssi il existe une partition $\set{W_1,W_2}$ de $V$ telle que toutes les arrêtes de $E$
			aient une extrémité dans $W_1$ et l'autre dans $W_2$.

			\plabel{Algorithme pour décider si un graphe est bipartie : } Il suffit de créer deux ensembles $W_1$ et $W_2$.
			On prend un point au hasard dans le graphe, et on le place dans $W_1$. On place alors tous les voisins de $x$ dans $W_2$,
			puis tous les voisins des voisins de $x$ dans $W_1$, et ainsi de suite, récursivement. 
			Si jamais il y a conflit (on doit placer un élément dans $W_1$ alors qu'il est déjà présent dans $W_2$ par exemple),
			alors le graphe n'est pas bipartie.
			Une fois que l'on ne peut plus ajouter d'éléments à un des deux ensembles, si des points du graphe n'ont toujours pas été ajoutés, 
			on recommence le processus sur l'un de ces points, jusqu'à ce que tous les points aient été ajoutés.
			Si le processus s'est fait sans conflit, le graphe est bipartie.

	\section{Parcours}
		\subsection{Définitions}
			On définit, pour $W \subset V$ la bordure de $W$ par:
				\[ 
					\mathcal{B}(W) = 
					\set{ y \in V\setminus W \tq \exists x \in W, {x,y} \in E}
				\]
			Dans le cadre d'un graphe orienté, pour $T \subset S$:
				\[ 
					\mathcal{B}(T) = 
					\set{ y \in V\setminus T \tq \forall x \in T, y \in \mathscr{V}(x) }
				\]

			On dit que $L\in V^n$ (ou $S^n$ pour un graphe orienté) est un parcours ssi $\forall i \in \intset{1,n}, L_i \in \mathcal{B}(\set{L_j \tq j \in \intsete{1,i}})$.
			
			\begin{center}	
			\begin{tikzpicture}
				\node[circle,draw] (a) at (0,0) {A};
				\node[circle,draw] (b) at (1,1) {B};
				\node[circle,draw] (c) at (3,0) {C};
				\node[circle,draw] (d) at (1,-1) {D};
				\node[circle,draw] (e) at (2,-1) {E};
				\node[circle,draw] (f) at (4,-1) {F};
				\node[circle,draw] (g) at (5,1) {G};
				\draw[-stealth] (a) -- (b);
				\draw[-stealth] (a) -- (d);
				\draw[-stealth] (b) -- (c);
				\draw[-stealth] (d) -- (e);
				\draw[-stealth] (e) -- (c);
				\draw[-stealth] (g) -- (c);
				\draw[-stealth] (c) -- (f);
				\draw[-stealth] (f) -- (g);
			\end{tikzpicture} \\
			Un parcours du graphe orienté ci-dessus est $L = [F,G,C,E,A,B,D]$
			\end{center}
			

			De plus, on dit que $L_i$ est un \textbf{point de regénération du parcours} 
			ssi $\mathcal{B}(\set{L_j \tq j \in \intsete{1,i}}) = \varnothing$. [??]

			Enfin, en notant $\mathcal{R}$ l'ensemble des points de régénération de $L$,
			on dit que $F = (V,P)$ est une forêt d'arborescences associée au parcours $L$ ssi $F$ respecte les trois propriétés suivantes:
			\begin{enumerate}
				\item $\forall i \in \intset{1,n}, L_i \in \mathcal{R}$ ou $\exists j \in \intsete{1,i}, L_i \in \mathscr{V}(L_j), (L_j,L_i) \in P$;
				\item $\forall u \in V \setminus R, \exists! w \in V, (w,u) \in P$ (on dit alors que $w$ est le \textbf{père} de $u$);
				\item $F = (V,P)$. $P$ est minimal parmi les ensemble vérifiant 1.
			\end{enumerate}

			\begin{center}
			\begin{tikzpicture}
				\node[circle,draw] (a) at (0,0) {A};
				\node[circle,draw] (b) at (2,0) {B};
				\node[circle,draw] (f) at (2,-2) {F};
				\node[circle,draw] (e) at (0,-2) {E};

				\node[circle,draw] (g) at (4,-2) {G};
				\node[circle,draw] (h) at (5,-1) {H};
				\node[circle,draw] (i) at (6,-2) {I};

				\node[circle,draw] (c) at (8,0) {C};
				\node[circle,draw] (d) at (10,0) {D};
				\node[circle,draw] (k) at (11,-1) {K};
				\node[circle,draw] (j) at (9,-2) {J};
				\node[circle,draw] (l) at (11,-2) {L};

				\draw (a) -- (b); 
				\draw (a) -- (e); 
				\draw (b) -- (e); 
				\draw (b) -- (f); 
				\draw (e) -- (f); 

				\draw (g) -- (h); 
				\draw (h) -- (i); 
				
				\draw (c) -- (d); 
				\draw (d) -- (k); 
				\draw (k) -- (j); 
				\draw (k) -- (l); 
				\draw (j) -- (l); 
			\end{tikzpicture}\\
			$L = [\underbrace{A,B,E,F}_{r_1=1},\underbrace{G,H,I}_{r_2 = 5},\underbrace{C,D,K,J,L}_{r_3 = 8}]$.
			\end{center}


			\prop{Soit $G = (V,E)$ un graphe non-orienté. Soit $W \subset V$. Si $\mathcal{B}(W) = \varnothing$, 
			alors il n'existe aucune chaîne reliant un sommet de $W$ et un sommet de $V \subset W$.}
			\begin{demo}
				\item Par l'absurde, supposons qu'il existe une chaîne $\gamma$ de lngueur $l$ telle que $\gamma_0 \in W$ et $\gamma_l \in V\setminus W$.
				On a $\gamma_0 \neq \gamma_l$ donc $l > 0$.
				On peut alors définir $i_0 = \min\set{i \in \intset{1,l} \tq \gamma_i \not\in W}$.
				Par définition de $i_0$, $\gamma_{i_0-1} \in W$.
				Par définition, une chaîne $\set{\gamma_{i_0},\gamma_{i_0}} \in E$, autrement dit $\gamma_{i_0} \in \mathscr{V}(\gamma_{i_0-1})$.
				Donc $\gamma_{i_0} \in \mathcal{B}(W)$: absurde.
			\end{demo}

			\prop{Soit $G = (V,E)$ un graphe non-orienté, et $L = (L_i)_{i \in \intset{1,n}}$ un parcours de $G$.
			Si l'ensemble des points de regénération s'écrit $\set{L_{r_k}} | k \in \intset{1,K}$ avec $(r_k)$ croissant,
			alors $G$ admet $K$ composantes connexes, à savoir les $(c_k)_{k \in \intset{1,K}}$ 
			définis par $c_k = \set{L_i \tq i \in \intsete{r_k,r_k+1}}$ avec $r_{K+1} = n+1$.}
			\begin{demo}
				\item Soit $k \in \intset{1,K}$. Montrons que $C_k$ est connexe maximal.
				\item Si $C_k = V$, il est trivialement connexe. Sinon, soit $u\in V\setminus C_k$. MQ $\hat{C_k} = C_k\cup\set{u}$  n'est pas connexe.
				Par définition d'un parcours. Il existe $i_u \in \intset{1,n}$ tq $u = L_{i_u}$.
				Comme $u \not\in C_k, i_u \not\in \intsete{r_k,r_{k+1}}$
				Si $i_u < r_k$, on pose $W = \set{L_i \tq i \in \intsete{1,r_k}}$. Ainsi, $L{i_u} \in W$ et $\mathcal{B} = \varnothing$ car 
				$L_{i_k}$ est point de regénération. D'après le lemme, il n'existe aucun chemin reliant $L_{i_u}$ et $L_{i_k} \not \in W$
				donc $\hat{C_k}$ n'est pas connexe.
				Autre cas...
				Ainsi $C_k$ est maximal.
			\end{demo}



\end{document}
